{"version":3,"file":"viewport-config.js","sources":["../../src/initializers/viewport-config.js"],"sourcesContent":["import canUseDOM from 'ember-in-viewport/utils/can-use-dom';\n\nconst defaultConfig = {\n  viewportDidScroll: true,\n  viewportSpy: false,\n  viewportListeners: [\n    { context: window, event: 'scroll' },\n    { context: window, event: 'resize' },\n  ],\n  viewportTolerance: {\n    top: 0,\n    left: 0,\n    bottom: 0,\n    right: 0,\n  },\n  intersectionThreshold: 0,\n  scrollableArea: null, // defaults to layout view (document.documentElement)\n};\n\nif (canUseDOM) {\n  defaultConfig.viewportListeners.push({\n    context: document,\n    event: 'touchmove',\n  });\n}\n\nexport function initialize() {\n  const application = arguments[1] || arguments[0];\n  const config = application.resolveRegistration('config:environment');\n  const { viewportConfig = {} } = config;\n  const mergedConfig = Object.assign({}, defaultConfig, viewportConfig);\n\n  application.register('config:in-viewport', mergedConfig, {\n    instantiate: false,\n  });\n}\n\nexport default {\n  name: 'viewport-config',\n  initialize: initialize,\n};\n"],"names":["defaultConfig","viewportDidScroll","viewportSpy","viewportListeners","context","window","event","viewportTolerance","top","left","bottom","right","intersectionThreshold","scrollableArea","canUseDOM","push","document","initialize","application","arguments","config","resolveRegistration","viewportConfig","mergedConfig","Object","assign","register","instantiate","name"],"mappings":";;AAEA,MAAMA,aAAa,GAAG;AACpBC,EAAAA,iBAAiB,EAAE,IAAI;AACvBC,EAAAA,WAAW,EAAE,KAAK;AAClBC,EAAAA,iBAAiB,EAAE,CACjB;AAAEC,IAAAA,OAAO,EAAEC,MAAM;AAAEC,IAAAA,KAAK,EAAE,QAAA;AAAS,GAAC,EACpC;AAAEF,IAAAA,OAAO,EAAEC,MAAM;AAAEC,IAAAA,KAAK,EAAE,QAAA;AAAS,GAAC,CACrC;AACDC,EAAAA,iBAAiB,EAAE;AACjBC,IAAAA,GAAG,EAAE,CAAC;AACNC,IAAAA,IAAI,EAAE,CAAC;AACPC,IAAAA,MAAM,EAAE,CAAC;AACTC,IAAAA,KAAK,EAAE,CAAA;GACR;AACDC,EAAAA,qBAAqB,EAAE,CAAC;EACxBC,cAAc,EAAE,IAAI;AACtB,CAAC,CAAA;AAED,IAAIC,SAAS,EAAE;AACbd,EAAAA,aAAa,CAACG,iBAAiB,CAACY,IAAI,CAAC;AACnCX,IAAAA,OAAO,EAAEY,QAAQ;AACjBV,IAAAA,KAAK,EAAE,WAAA;AACT,GAAC,CAAC,CAAA;AACJ,CAAA;AAEO,SAASW,UAAUA,GAAG;EAC3B,MAAMC,WAAW,GAAGC,SAAS,CAAC,CAAC,CAAC,IAAIA,SAAS,CAAC,CAAC,CAAC,CAAA;AAChD,EAAA,MAAMC,MAAM,GAAGF,WAAW,CAACG,mBAAmB,CAAC,oBAAoB,CAAC,CAAA;EACpE,MAAM;AAAEC,IAAAA,cAAc,GAAG,EAAC;AAAE,GAAC,GAAGF,MAAM,CAAA;AACtC,EAAA,MAAMG,YAAY,GAAGC,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEzB,aAAa,EAAEsB,cAAc,CAAC,CAAA;AAErEJ,EAAAA,WAAW,CAACQ,QAAQ,CAAC,oBAAoB,EAAEH,YAAY,EAAE;AACvDI,IAAAA,WAAW,EAAE,KAAA;AACf,GAAC,CAAC,CAAA;AACJ,CAAA;AAEA,qBAAe;AACbC,EAAAA,IAAI,EAAE,iBAAiB;AACvBX,EAAAA,UAAU,EAAEA,UAAAA;AACd,CAAC;;;;"}