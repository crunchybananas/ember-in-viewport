{"version":3,"file":"can-use-intersection-observer.js","sources":["../../src/utils/can-use-intersection-observer.js"],"sourcesContent":["// Adapted from WC3's intersection polyfill\n// https://github.com/w3c/IntersectionObserver/blob/master/polyfill/intersection-observer.js\n\nimport canUseDOM from 'ember-in-viewport/utils/can-use-dom';\n\nfunction checkIntersectionObserver(window) {\n  if (\n    'IntersectionObserver' in window &&\n    'IntersectionObserverEntry' in window &&\n    'intersectionRatio' in window.IntersectionObserverEntry.prototype\n  ) {\n    // Minimal polyfill for Edge 15's lack of `isIntersecting`\n    // See: https://github.com/w3c/IntersectionObserver/issues/211\n    if (!('isIntersecting' in window.IntersectionObserverEntry.prototype)) {\n      Object.defineProperty(\n        window.IntersectionObserverEntry.prototype,\n        'isIntersecting',\n        {\n          get: function () {\n            return this.intersectionRatio > 0;\n          },\n        },\n      );\n    }\n    return true;\n  }\n  return false;\n}\n\nexport default function canUseIntersectionObserver() {\n  if (!canUseDOM) {\n    return false;\n  }\n\n  return checkIntersectionObserver(window);\n}\n"],"names":["checkIntersectionObserver","window","IntersectionObserverEntry","prototype","Object","defineProperty","get","intersectionRatio","canUseIntersectionObserver","canUseDOM"],"mappings":";;AAAA;AACA;;AAIA,SAASA,yBAAyBA,CAACC,MAAM,EAAE;AACzC,EAAA,IACE,sBAAsB,IAAIA,MAAM,IAChC,2BAA2B,IAAIA,MAAM,IACrC,mBAAmB,IAAIA,MAAM,CAACC,yBAAyB,CAACC,SAAS,EACjE;AACA;AACA;IACA,IAAI,EAAE,gBAAgB,IAAIF,MAAM,CAACC,yBAAyB,CAACC,SAAS,CAAC,EAAE;MACrEC,MAAM,CAACC,cAAc,CACnBJ,MAAM,CAACC,yBAAyB,CAACC,SAAS,EAC1C,gBAAgB,EAChB;QACEG,GAAG,EAAE,YAAY;AACf,UAAA,OAAO,IAAI,CAACC,iBAAiB,GAAG,CAAC,CAAA;AACnC,SAAA;AACF,OACF,CAAC,CAAA;AACH,KAAA;AACA,IAAA,OAAO,IAAI,CAAA;AACb,GAAA;AACA,EAAA,OAAO,KAAK,CAAA;AACd,CAAA;AAEe,SAASC,0BAA0BA,GAAG;EACnD,IAAI,CAACC,SAAS,EAAE;AACd,IAAA,OAAO,KAAK,CAAA;AACd,GAAA;EAEA,OAAOT,yBAAyB,CAACC,MAAM,CAAC,CAAA;AAC1C;;;;"}